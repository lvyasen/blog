## 选择优化的数据类型

> 选择正确的数据类型对于获得高性能至关重要。

**更小的通常更好：**

> 因为它们占用的磁盘、内存和 CPU 缓存的空间更少，并且处理时需要的 CPU 周期也更少。

**简单的数据类型更好：**

> 简单数据类型的操作通常需要更少的 CPU 周期。
> 如：
>
> - 是应该将日期和时间存储为 MySQL 的内置类型而不是字符串类型。
> - 应该用整型数据存储 IP 地址，使用 inet_aton() 函数将 ip 转为整形。

**尽量避免存储 null**

> null 是列的默认属性，通常情况下最好指定列为 not null。
> 原因：
>
> - null 让索引、索引统计、值都比较复杂。

### 整数类型：

> 分为两种：整数、实数。

#### 整数

> 有可选 unsigned，不为负数，可使可用范围扩大一倍。

- tinyint：8 位存储空间
- smallint：16 位存储空间
- mediumint：24 位存储空间
- int：32 位存储空间
- bigint：64 位存储空间

#### 实数类型

> 指带有小数部分的数字。
> 存储财务数据。但在一些大容量的场景，可以考虑使用 BIGINT 代替 DECIMAL，将需要存储的货币单位根据小数的位数乘以相应的倍数即可

- float：占用 4 个字节。
- double：占用 8 个字节。
- decimal：占用（M+2）个字节

### 字符串类型：

#### vachar

> 存储可变长字符串。
> 需要使用额外的 1~2 个字节记录字符串长度。

**优点：**

- 比可变长更节省空间，因为他仅使用必要空间。
- 节省了空间，对性能也有帮助。

**缺点：**

- 由于字符是可变长，当行的增长使得原位置无法容纳更多内容，如 innodb 通过分割页面来容纳。

#### char

> 固定长度，不易出现碎片。
> 非常适合存储短的字符串，如用户密码的 MD5 值，

#### BLOB 和 TEXT 类型

- BLOB：二进制类型存储，没有排序规则和字符集。
- TEXT：字符方式存储。

#### ENUM（枚举）

> enum 存储的是整数，而非字符串。

#### 日期和时间类型

> mysql 存储的最小时间粒度是微秒。

DATETIME：

- 保存的精度为 1 微秒。
- 与时区无关。
- 需要 8 个字节保存。

TIMESTRAMP：

- 存储自 1970 年 1 月 1 日格林威治时间（GMT）经过的秒数，与 unix 时间戳相同。
- 只需 4 个字节。
- 只能从 1970~2038。
- 提供了 FROM_UNIXTIME() 函数将 UNIX 时间戳转为日期，UNIX_TIMESTAMP 将日期转为时间戳。
